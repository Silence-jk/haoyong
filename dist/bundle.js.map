{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/util.js","webpack:///./lib/dom.js","webpack:///./lib/array.js","webpack:///./lib/ajax.js","webpack:///./index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","util","query","querystring","exec","serialize","data","url","arr","keys","forEach","k","push","encodeURIComponent","join","getAbsoluteUrl","a","document","createElement","setAttribute","href","debounce","callback","time","timer","setTimeout","clearTimeout","trim","str","position","replace","dateFormat","micrometer","number","test","dom","$","selector","parentNode","querySelector","querySelectorAll","length","removeNode","node","removeChild","insertAfter","target","nextElementSibling","insertBefore","appendChild","addClass","className","Array","isArray","map","classList","add","removeClass","remove","array","removeItemByIndex","index","splice","dedupe","control","newArr","from","Set","indexOf","ajax","getData","type","xhr","XMLHttpRequest","onreadystatechange","console","log","assign","readyState","status","JSON","parse","responseText","open","setRequestHeader","send","$ajax","$array","$dom","$util"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAjB,GACAY,OAAAC,eAAAb,EAAA,cAAiDkB,OAAA,KAIjDpB,EAAAqB,EAAA,SAAAlB,GACA,IAAAS,EAAAT,KAAAmB,WACA,WAA2B,OAAAnB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAU,EAAAC,GAAsD,OAAAV,OAAAW,UAAAC,eAAAnB,KAAAgB,EAAAC,IAGtDxB,EAAA2B,EAAA,GAIA3B,IAAA4B,EAAA,kCCnEA,IAAMC,GAUJC,MAAO,SAAUnB,EAAMoB,GAGrB,MADY,wBACCC,KAAKD,GAAa,IAUjCE,UAAW,SAAUC,GACnB,IAAIC,EAAM,IACNC,KACJ,OAAKF,GAILpB,OAAOuB,KAAKH,GAAMI,QAAQ,SAAAC,GACxBH,EAAII,KAAKC,mBAAmBF,GAAK,IAAME,mBAAmBP,EAAKK,OAGjEJ,GAAOC,EAAIM,KAAK,MAPP,MAiBXC,eAAgB,SAAUR,GACxB,IAAKA,EAAO,OAAO,KACnB,IAAIS,EAAIC,SAASC,cAAc,KAE/B,OADAF,EAAEG,aAAa,OAAQZ,GAChBS,EAAEI,MAQXC,SAAU,SAAUC,EAAUC,GAC5B,IAAIC,EAGJ,OAFAD,EAAOA,GAAQ,IAER,WAIAC,IACHA,EAAQC,WAAW,WACjBH,IACAI,aAAaF,GACbA,EAAQ,MACPD,MASTI,KAAM,SAAUC,EAAKC,GACnB,OAAQA,GACN,IAAK,OACH,OAAOD,EAAIE,QAAQ,UAAW,IAChC,IAAK,QACH,OAAOF,EAAIE,QAAQ,UAAW,IAChC,IAAK,MACL,QACE,OAAOF,EAAIE,QAAQ,OAAQ,MAQjCC,WAAY,SAAUH,GAEpB,MADY,yCACCxB,KAAKwB,IAQpBI,WAAY,SAAUC,GAEpB,IAA6B,IAA1B,SAASC,KAAKD,GACf,OAAO,KAST,OADAA,GALAA,EAA2B,iBAAXA,EACZA,EACA,GAAKA,GAGOH,QADJ,uBACmB,OAKnCvD,EAAOD,QAAU2B,gCCxHjB,IAAMkC,GAOJC,EAAG,SAAUC,EAAUC,GAGrB,OADAA,EAAaA,GAAcrB,SACtBoB,EAIDC,EAAWC,cAC0C,IAAjDD,EAAWE,iBAAiBH,GAAUI,OACxCH,EAAWC,cAAcF,GACzBC,EAAWE,iBAAiBH,GAEzB,yDARA,MAmBXK,WAAY,SAAUC,GACpB,OAAKA,EAGEA,EAAKL,WAAWM,YAAYD,GAF1B,MAUXE,YAAa,SAAUF,EAAMG,GAC3B,IAAIX,EAAMW,EAAOC,mBAEZZ,EAMUW,EAAOR,WAAWU,aAAaL,EAAMR,GAJnCW,EAAOR,WAAWW,YAAYN,IAajDO,SAAU,SAAUP,EAAMQ,GACxB,IAAKR,GAAwB,iBAATA,EAClB,OAAO,KAGLS,MAAMC,QAAQF,GAChBA,EAAUG,IAAI,SAACvE,GACb4D,EAAKY,UAAUC,IAAIzE,KAIvB4D,EAAOA,EAAKY,UAAUC,IAAIL,IAS5BM,YAAa,SAAUd,EAAMQ,GAC3B,IAAKR,GAAwB,iBAATA,EAClB,OAAO,KAGLS,MAAMC,QAAQF,GAChBA,EAAUG,IAAI,SAACvE,GACb4D,EAAKY,UAAUG,OAAO3E,KAI1B4D,EAAOA,EAAKY,UAAUG,OAAOP,KAKjC5E,EAAOD,QAAU6D,gCChGjB,IAAMwB,GASJC,kBAAmB,SAAUC,EAAOrD,GAClC,OAAK4C,MAAMC,QAAQ7C,GAIfqD,EAAQrD,EAAIiC,OACP,KAGY,iBAAVoB,EAIPA,EAAQ,GACVrD,EAAIsD,OAAOtD,EAAIiC,OAASoB,EAAO,GACxBrD,IAGTA,EAAIsD,OAAOD,EAAO,GACXrD,QAVP,MAiBFuD,OAAQ,SAAUJ,EAAOK,GACvB,IAAIC,KACJ,OAAKN,EAIDP,MAAMc,MAAQC,IACTf,MAAMc,KAAK,IAAIC,IAAIR,KAG5BA,EAAML,IAAI,SAAA9C,IACmB,GAAxByD,EAAOG,QAAQ5D,IAChByD,EAAOrD,KAAKJ,KAGTyD,GAZE,OAgBb1F,EAAOD,QAAUqF,gCCtDjB,IAAMU,GAOJC,QAAS,SAAUC,EAAMhE,EAAKD,EAAMgB,GAClC,IAAIkD,EAAM,IAAIC,eACK,mBAATnE,IACRgB,EAAWhB,EACXA,EAAO,IAGTkE,EAAIE,mBAAqB,WACvBC,QAAQC,IAAI,qBAAsB1F,OAAO2F,OAAOL,IAEzB,IAAnBA,EAAIM,YACFN,EAAIO,QAAU,KAAOP,EAAIO,OAAS,KAAqB,KAAdP,EAAIO,SAE/CzD,EAAS0D,KAAKC,MAAMT,EAAIU,cAAeV,GAGzCG,QAAQC,IAAIJ,EAAIO,SAGpBP,EAAIW,KAAKZ,EAAMhE,GAAgB,QAATgE,EAAA,IAAqBjE,EAAS,KAGxC,SAATiE,GACDC,EAAIY,iBAAiB,eAAe,qCAEtCZ,EAAIa,KAAc,QAATd,EAAiB,KAAOjE,KAIrC/B,EAAOD,QAAU+F,gCClCjB,IAAIiB,EAAQlH,EAAQ,GAChBmH,EAASnH,EAAQ,GACjBoH,EAAOpH,EAAQ,GACfqH,EAAQrH,EAAQ,GAEpBG,EAAOD,SACLgH,QACAC,SACAC,OACAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","const util = {\r\n  /**\r\n    * get value in querystring by name\r\n    * @param {String} name\r\n    * @param {String} querystring\r\n    * @return {String|undefined}\r\n    *\r\n    * query('hello', '?hello=js') result is js\r\n    *\r\n    */\r\n  query: function (name, querystring) {\r\n    // 惰性匹配，量词后加 ? (\\S+?)\r\n    var regex = /\\??\\S+?=([^#&]*)#?\\S*/\r\n    return regex.exec(querystring)[1]\r\n  },\r\n\r\n  /**\r\n   * let obj transform to url string\r\n   * @param {Obj} data\r\n   * @return {String}\r\n   *\r\n   * serialize({hello: 'js', hi: 'test'}) result is '?hello=js&hi=test'\r\n   */\r\n  serialize: function (data) {\r\n    var url = '?'\r\n    var arr = []\r\n    if (!data) {\r\n      return null\r\n    }\r\n\r\n    Object.keys(data).forEach(k => {\r\n      arr.push(encodeURIComponent(k) + '=' + encodeURIComponent(data[k]))\r\n    })\r\n\r\n    url += arr.join('&')\r\n    return url\r\n  },\r\n  /**\r\n   * get absolute url in current page\r\n   * @param {String} url\r\n   * @return {String}\r\n   *\r\n   * getAbsoluteUrl('/jerojiang') => 'http://imweb.io/jerojiang'\r\n  */\r\n  getAbsoluteUrl: function (url) {\r\n    if (!url) { return null }\r\n    var a = document.createElement('a')\r\n    a.setAttribute('href', url)\r\n    return a.href\r\n  },\r\n\r\n  /**\r\n   * stop bounce\r\n   * @param {Func} callback\r\n   * @param {Number} time\r\n   */\r\n  debounce: function (callback, time) {\r\n    var timer\r\n    time = time || 300\r\n\r\n    return function () {\r\n      // 没有 timmer 的时候就生成一个\r\n      // 到时再触发 callback ，即调用一次\r\n      // 以此达到减少调用次数的结果\r\n      if (!timer) {\r\n        timer = setTimeout(() => {\r\n          callback()\r\n          clearTimeout(timer)\r\n          timer = null\r\n        }, time)\r\n      }\r\n    }\r\n  },\r\n  /**\r\n * elminate space by position\r\n * @param {String} str\r\n * @param {String} position \r\n */\r\n  trim: function (str, position) {\r\n    switch (position) {\r\n      case \"left\":\r\n        return str.replace(/(^\\s*)/g, '');\r\n      case \"right\":\r\n        return str.replace(/(\\s*$)/g, '');\r\n      case \"all\":\r\n      default:\r\n        return str.replace(/\\s+/g, '');\r\n    }\r\n  },\r\n  /**\r\n   * 格式化日期\r\n   * @param {String} str\r\n   * 20130211 -> ['20130211', '2013', '02', '11']\r\n   */\r\n  dateFormat: function (str) {\r\n    var regex = /^(\\d{4})((?:0|1)?\\d)((?:0|1|2|3)?\\d)$/g\r\n    return regex.exec(str)\r\n  },\r\n  /**\r\n   * 千分位分隔符\r\n   * @param {Number} number\r\n   * @returns \r\n   * 11111 > 11,111\r\n   */\r\n  micrometer: function (number) {\r\n    \r\n    if(/^\\d+$/g.test(number) === false) {\r\n      return null\r\n    }\r\n\r\n    number = typeof number === 'string' \r\n      ? number \r\n      : '' + number;\r\n    \r\n    var regex = /(?=((?!\\b)\\d{3})+$)/g\r\n    number = number.replace(regex, ',')\r\n    return number\r\n  }\r\n}\r\n\r\nmodule.exports = util","const dom = {\r\n  /**\r\n    * selector to find dom\r\n    * @param {String} selector\r\n    * @param {String} parentNode\r\n    * @return {DOM|Null}\r\n    */\r\n  $: function (selector, parentNode) {\r\n    var dom\r\n    parentNode = parentNode || document\r\n    if (!selector) {\r\n      return null\r\n    }\r\n\r\n    if (parentNode.querySelector) {\r\n      dom = parentNode.querySelectorAll(selector).length === 1\r\n        ? parentNode.querySelector(selector)\r\n        : parentNode.querySelectorAll(selector)\r\n    } else {\r\n      return 'please quickly update your broswer to Chrome / Firefox'\r\n    }\r\n    return dom\r\n  },\r\n\r\n  /**\r\n   * delete DOM node \r\n   * @param {DOM} node\r\n   * @return {DOM}\r\n   */\r\n\r\n  removeNode: function (node) {\r\n    if (!node) {\r\n      return null\r\n    }\r\n    return node.parentNode.removeChild(node)\r\n  },\r\n\r\n  /**\r\n   * insert node after targte\r\n   * @param {DOM} node\r\n   * @param {DOM} target\r\n   */\r\n  insertAfter: function (node, target) {\r\n    var dom = target.nextElementSibling\r\n    var insertedNode\r\n    if (!dom) {\r\n      // if (target.parentNode.appendChild) {\r\n      insertedNode = target.parentNode.appendChild(node)\r\n      // }\r\n      return\r\n    }\r\n    insertedNode = target.parentNode.insertBefore(node, dom)\r\n    return\r\n  },\r\n\r\n  /**\r\n   * add className\r\n   * @param {DOM} node\r\n   * @param {String|Array} className\r\n   */\r\n  addClass: function (node, className) {\r\n    if (!node || typeof node === 'string') {\r\n      return null\r\n    }\r\n\r\n    if (Array.isArray(className)) {\r\n      className.map((name) => {\r\n        node.classList.add(name)\r\n      })\r\n      return\r\n    }\r\n    node = node.classList.add(className)\r\n    return\r\n  },\r\n\r\n  /**\r\n   * remove className\r\n   * @param {DOM} node\r\n   * @param {String|Array} className\r\n   */\r\n  removeClass: function (node, className) {\r\n    if (!node || typeof node === 'string') {\r\n      return null\r\n    }\r\n\r\n    if (Array.isArray(className)) {\r\n      className.map((name) => {\r\n        node.classList.remove(name)\r\n      })\r\n      return\r\n    }\r\n    node = node.classList.remove(className)\r\n    return\r\n  }\r\n}\r\n\r\nmodule.exports = dom","const array = {\r\n  /**\r\n   * remove a ele in array by index\r\n   * @param {Number} index\r\n   * @param {Array} arr\r\n   * @return {Array}\r\n   *\r\n   * removeItemByIndex(1, [1,2,3]) => [1, 3]\r\n   */\r\n  removeItemByIndex: function (index, arr) {\r\n    if (!Array.isArray(arr)) {\r\n      return {}\r\n    }\r\n\r\n    if (index > arr.length) {\r\n      return null\r\n    }\r\n\r\n    if (typeof index !== 'number') {\r\n      return undefined\r\n    }\r\n\r\n    if (index < 0) {\r\n      arr.splice(arr.length + index, 1)\r\n      return arr\r\n    }\r\n\r\n    arr.splice(index, 1)\r\n    return arr\r\n  },\r\n  /**\r\n   * dedupe array 数组去重\r\n   * @param {Array} array \r\n   * @returns {Array|Null}\r\n   */\r\n  dedupe: function (array, control) {\r\n    var newArr = []\r\n    if (!array) {\r\n      return null\r\n    }\r\n\r\n    if (Array.from && Set) {\r\n      return Array.from(new Set(array))\r\n    }\r\n    \r\n    array.map(arr => {\r\n      if(newArr.indexOf(arr) == -1) {\r\n        newArr.push(arr)\r\n      }\r\n    })\r\n    return newArr\r\n  }\r\n}\r\n\r\nmodule.exports = array\r\n","const ajax = {\r\n  /**\r\n   * @param {String} type get/post\r\n   * @param {String} url \r\n   * @param {String} data url ?后匹配的参数 ，可忽略\r\n   * @param {Function} callback\r\n   */\r\n  getData: function (type, url, data, callback) {\r\n    var xhr = new XMLHttpRequest()\r\n    if(typeof data === 'function') {\r\n      callback = data\r\n      data = ''\r\n    }\r\n    // 监听请求状态\r\n    xhr.onreadystatechange = () => {\r\n      console.log('xhr after response', Object.assign(xhr));\r\n      \r\n      if (xhr.readyState === 4) {\r\n        if((xhr.status >= 200 && xhr.status < 300 || xhr.status == 304)) {\r\n          //反序列化\r\n          callback(JSON.parse(xhr.responseText), xhr)\r\n        }\r\n      } else {\r\n        console.log(xhr.status);\r\n      }\r\n    }\r\n    xhr.open(type, url + (type === 'get' ? `?${data}` : ''))  //打开链接\r\n\r\n    //若是 post 请求，需设置请求头\r\n    if(type === 'post') {\r\n      xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded')\r\n    }\r\n    xhr.send(type === 'get' ? null : data)  //发送请求 \r\n  }\r\n}\r\n\r\nmodule.exports = ajax","'use strict';\r\n\r\nvar $ajax = require('./lib/ajax')\r\nvar $array = require('./lib/array')\r\nvar $dom = require('./lib/dom')\r\nvar $util = require('./lib/util')\r\n\r\nmodule.exports = {\r\n  $ajax,\r\n  $array,\r\n  $dom,\r\n  $util\r\n}\r\n"],"sourceRoot":""}